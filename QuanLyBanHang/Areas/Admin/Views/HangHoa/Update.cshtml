@model QuanLyBanHang.Models.HangHoa
@{
    ViewBag.Title = "Update";
}

<form action="~/Admin/HangHoa/Update" method="post" enctype="multipart/form-data">
    <div class="container">
        <div class="row">
            <div class="row">
                <div class="col-md-6">
                   <div class="form-group">
                  <input type="hidden" class="form-control" id="ID" name="ID" value="@Model.ID" placeholder="Nhập mã hàng" >
                </div>
                    <div class="form-group">
                        <label for="tenHang">Tên hàng:</label>
                        <input type="text" class="form-control" id="TenHang" name="TenHang"  value="@Model.TenHang" placeholder="Nhập tên hàng"required>
                    </div>
                    <div class="form-group">
                        <label for="NhomHang">Loại hàng</label>
                        @Html.DropDownListFor(model => model.NhomHangHoa.ID , ViewBag.NhomHang as SelectList, "-- Chọn loại hàng --", new { @class = "form-control text-center" })
                    </div>
                    @*Chú ý DropDownList*@
                    <div class="form-group">
                        <label for="ThuongHieu">Thương hiệu</label>
                        @Html.DropDownListFor(model => model.ThuongHieu1.ID, ViewBag.ThuongHieu as SelectList, "-- Chọn thương hiệu --", new { @class = "form-control text-center" })
                    </div>
                    <div class="form-group">
                        <label for="giaVon">Giá vốn:</label>
                        <input type="text" class="form-control" id="GiaVon" name="GiaVon"  value="@Model.GiaVon" placeholder="Nhập giá vốn" required>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="giaBan">Giá bán:</label>
                        <input type="text" class="form-control" id="GiaBan" name="GiaBan" value="@Model.GiaBan" placeholder="Nhập giá bán" required>
                    </div>
                    @*<div class="form-group">
            <label for="tonKho">Tồn kho:</label>
            <input type="text" class="form-control" id="tonKho" placeholder="Nhập số lượng tồn kho">
        </div>*@
                    <div class="form-group">
                        <label for="SoLuong">Số lượng:</label>
                        <input type="text" class="form-control" id="SoLuong" name="SoLuong" value="@Model.SoLuong" placeholder="Nhập số lượng" required>
                    </div>
                    <div class="form-group">
                        <label for="ViTri">Vị trí:</label>
                        <input type="text" class="form-control" name="ViTri" id="ViTri" value="@Model.ViTri" placeholder="Nhập vị trí">
                    </div>
                    <div class="form-group">
                        <label for="ViTri">Vị trí:</label>
                        <textarea class="form-control" name="GhiChu" id="GhiChu" placeholder="Mô tả thêm...">@Model.GhiChu</textarea>
                    </div>
                    <div class="form-group">

                        <label for="HinhAnh">Hình ảnh:</label>
                        <br>
                        <img id="preview" src="~/Upload/Product/@Model.HinhAnh" style="width:120px;height:120px" />
                        <input type="file" class="form-control-file" accept="image/*" id="HinhAnh" name="HinhAnh" onchange="previewImage(event)">
                    </div>

                </div>
            </div>

    </div>


    <br />
    <div class="text-center">

        <button type="submit" class="btn btn-primary" onclick="return Update()"><i class="bi bi-file-earmark"></i> Lưu</button>
        <a href="~/Admin/HangHoa/Delete/@Model.ID" onclick="return Delete()" class="btn btn-primary">Xóa <i class="bi bi-trash3-fill"></i></a>
        <a href="~/Admin/HangHoa" class="btn btn-primary">Hủy</a>
    </div>

</form>

<script>
            function Delete()
            {
                var result = confirm("Bạn có chắc muốn xóa ?");
                if (result)
                {
                    return true;
                }
                else {
                    return false;
                }
            }
            function Update() {
                var result = confirm("Bạn muốn thay đổi ?");
                if (result) {
                    return true;
                }
                else {
                    return false;
                }
            }
            function previewImage(event) {
                var fileInput = event.target;
                var file = fileInput.files[0];
                var preview = document.getElementById("preview");

                var reader = new FileReader();
                reader.onload = function (e) {
                    preview.src = e.target.result;
                };

                if (file) {
                    reader.readAsDataURL(file);
                } else {
                    preview.src = "~/Upload/Client/@Model.HinhAnh";
                }
            }

</script>
