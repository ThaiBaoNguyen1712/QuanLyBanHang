@model List<QuanLyBanHang.Models.InvoiceDetail>
@{
    ViewBag.Title = "Product";
}
@section scripts{
    
<script src="~/Scripts/Controllers/IDetails.js"></script>
}
<div class="container" style="margin-top:10px">
    <div class="row">
        <div class="col-md-7  Product-zone">
            <h3>Danh sách sản phẩm</h3>
            <table id="myTable" class="table table-hover">-
                <thead>
                    <tr>
                        <th>Mã SP</th>
                        <th>Tên SP</th>
                        <th>Giá bán</th>
                        <th>Hàng tồn</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in ViewBag.Products)
             {
                        <tr>
                            <td>@item.ID</td>
                            <td>@item.TenHang</td>
                            <td>@item.GiaBan</td>
                            <td>@item.SoLuong</td>
                            <td>
                                <a href="~/Admin/BanHang/AddItem?productId=@item.ID&quantity=1" class="adtocart">
                                    <i class="bi bi-plus-circle"></i>
                                </a>
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
        <div class="col-md-5">
            <h3>ĐƠN HÀNG</h3>
            <div class="content">
                <div class="section group">
                    @if (Model.Count > 0)
            {
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Mã SP</th>
                                    <th>Tên SP</th>
                                    <th>Số lượng</th>
                                    <th>Đơn giá</th>
                                    <th>Thành tiền</th>
                                    <td></td>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var item in Model)
                                {
                                    <tr>
                                        <td>@item.Product.ID</td>
                                        <td>@item.Product.TenHang</td>
                                        <td><input type="number" class="txtQuantity form-control " data-id="@item.Product.ID" value="@item.Quantity" /></td>
                                        <td class="text-danger">@item.Product.GiaBan</td>
                                        <td  class="text-danger">@(Convert.ToDecimal(item.Product.GiaBan * item.Quantity))</td>
                                        <td><a href="#" data-id="@item.Product.ID" class="btn-delete"><i class="bi bi-trash3-fill"></i></a></td>
                                    </tr>
                                }

                            </tbody>
                        </table>
                        <button id="btnUpdate" class="btn">Cập nhật đơn hàng</button>
                        <button id="btnDeleteAll" class="btn">Xoá đơn hàng</button>
                        <button id="btnPayment" class="btn-primary pull-right" style="padding: 10px;width: 15em;">Thanh toán</button>
                    }
                    else
                    {
                        <span class="alert alert-danger">Chưa có sản phẩm nào trong đơn hàng</span>
                    }

                </div>

            </div>
        </div>
    </div>
 </div>
<script src="~/Scripts/JSTB.js"></script>
